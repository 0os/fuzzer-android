#include <linux/types.h>
#include <linux/ioctl.h>

#include "utils.h"
#include "ioctls.h"
#include "ioctl_types.h"


static const struct ioctl msm_vidc_enc_ioctls[] = {
  IOCTL(VEN_IOCTL_SET_INTF_VERSION, STRUCT_venc_ioctl_msg),
  IOCTL(VEN_IOCTL_CMD_READ_NEXT_MSG, 0),
  IOCTL(VEN_IOCTL_CMD_STOP_READ_MSG, 0),
  IOCTL(VEN_IOCTL_SET_INPUT_BUFFER_REQ, 0),
  IOCTL(VEN_IOCTL_GET_INPUT_BUFFER_REQ, 0),
  IOCTL(VEN_IOCTL_CMD_ALLOC_INPUT_BUFFER, 0),
  IOCTL(VEN_IOCTL_SET_INPUT_BUFFER, 0),
  IOCTL(VEN_IOCTL_CMD_FREE_INPUT_BUFFER, 0),
  IOCTL(VEN_IOCTL_SET_OUTPUT_BUFFER_REQ, 0),
  IOCTL(VEN_IOCTL_GET_OUTPUT_BUFFER_REQ, 0),
  IOCTL(VEN_IOCTL_CMD_ALLOC_OUTPUT_BUFFER, 0),
  IOCTL(VEN_IOCTL_SET_OUTPUT_BUFFER, 0),
  IOCTL(VEN_IOCTL_CMD_FREE_OUTPUT_BUFFER, 0),
  IOCTL(VEN_IOCTL_CMD_START, 0),
  IOCTL(VEN_IOCTL_CMD_ENCODE_FRAME , 0),
  IOCTL(VEN_IOCTL_CMD_FILL_OUTPUT_BUFFER , 0),
  IOCTL(VEN_IOCTL_CMD_FLUSH , 0),
  IOCTL(VEN_IOCTL_CMD_PAUSE, 0),
  IOCTL(VEN_IOCTL_CMD_RESUME, 0),
  IOCTL(VEN_IOCTL_CMD_STOP, 0),
  IOCTL(VEN_IOCTL_SET_RECON_BUFFER  , 0),
  IOCTL(VEN_IOCTL_FREE_RECON_BUFFER  , 0),
  IOCTL(VEN_IOCTL_GET_RECON_BUFFER_SIZE  , 0),
  IOCTL(VEN_IOCTL_SET_BASE_CFG, 0),
  IOCTL(VEN_IOCTL_GET_BASE_CFG, 0),
  IOCTL(VEN_IOCTL_SET_LIVE_MODE, 0),
  IOCTL(VEN_IOCTL_GET_LIVE_MODE, 0),
  IOCTL(VEN_IOCTL_SET_CODEC_PROFILE, 0),
  IOCTL(VEN_IOCTL_GET_CODEC_PROFILE, 0),
  IOCTL(VEN_IOCTL_SET_PROFILE_LEVEL, 0),
  IOCTL(VEN_IOCTL_GET_PROFILE_LEVEL, 0),
  IOCTL(VEN_IOCTL_SET_SHORT_HDR, 0),
  IOCTL(VEN_IOCTL_GET_SHORT_HDR , 0),
  IOCTL(VEN_IOCTL_SET_SESSION_QP , 0),
  IOCTL(VEN_IOCTL_GET_SESSION_QP , 0),
  IOCTL(VEN_IOCTL_SET_INTRA_PERIOD , 0),
  IOCTL(VEN_IOCTL_GET_INTRA_PERIOD , 0),
  IOCTL(VEN_IOCTL_CMD_REQUEST_IFRAME, 0),
  IOCTL(VEN_IOCTL_GET_CAPABILITY , 0),
  IOCTL(VEN_IOCTL_GET_SEQUENCE_HDR , 0),
  IOCTL(VEN_IOCTL_SET_ENTROPY_CFG , 0),
  IOCTL(VEN_IOCTL_GET_ENTROPY_CFG , 0),
  IOCTL(VEN_IOCTL_SET_DEBLOCKING_CFG , 0),
  IOCTL(VEN_IOCTL_GET_DEBLOCKING_CFG , 0),
  IOCTL(VEN_IOCTL_SET_INTRA_REFRESH , 0),
  IOCTL(VEN_IOCTL_GET_INTRA_REFRESH , 0),
  IOCTL(VEN_IOCTL_SET_MULTI_SLICE_CFG , 0),
  IOCTL(VEN_IOCTL_GET_MULTI_SLICE_CFG , 0),
  IOCTL(VEN_IOCTL_SET_RATE_CTRL_CFG , 0),
  IOCTL(VEN_IOCTL_GET_RATE_CTRL_CFG  , 0),
  IOCTL(VEN_IOCTL_SET_VOP_TIMING_CFG , 0),
  IOCTL(VEN_IOCTL_GET_VOP_TIMING_CFG , 0),
  IOCTL(VEN_IOCTL_SET_FRAME_RATE , 0),
  IOCTL(VEN_IOCTL_GET_FRAME_RATE , 0),
  IOCTL(VEN_IOCTL_SET_TARGET_BITRATE , 0),
  IOCTL(VEN_IOCTL_GET_TARGET_BITRATE , 0),
  IOCTL(VEN_IOCTL_SET_ROTATION , 0),
  IOCTL(VEN_IOCTL_GET_ROTATION , 0),
  IOCTL(VEN_IOCTL_SET_HEC , 0),
  IOCTL(VEN_IOCTL_GET_HEC , 0),
  IOCTL(VEN_IOCTL_SET_DATA_PARTITION , 0),
  IOCTL(VEN_IOCTL_GET_DATA_PARTITION , 0),
  IOCTL(VEN_IOCTL_SET_RVLC , 0),
  IOCTL(VEN_IOCTL_GET_RVLC , 0),
  IOCTL(VEN_IOCTL_SET_AC_PREDICTION , 0),
  IOCTL(VEN_IOCTL_GET_AC_PREDICTION , 0),
  IOCTL(VEN_IOCTL_SET_QP_RANGE , 0),
  IOCTL(VEN_IOCTL_GET_QP_RANGE , 0),
  IOCTL(VEN_IOCTL_GET_NUMBER_INSTANCES , 0),
  IOCTL(VEN_IOCTL_SET_METABUFFER_MODE , 0),
  IOCTL(VEN_IOCTL_SET_EXTRADATA , 0),
  IOCTL(VEN_IOCTL_GET_EXTRADATA , 0),
  IOCTL(VEN_IOCTL_SET_SLICE_DELIVERY_MODE , 0),
  IOCTL(VEN_IOCTL_SET_SPS_PPS_FOR_IDR, 0 )
};

static const char *const msm_vidc_enc_devs[] = {
  "msm_vidc_enc",
};

static const struct ioctl_group msm_vidc_enc_grp = {
  .devtype = DEV_MISC,
  .devs = msm_vidc_enc_devs,
  .devs_cnt = ARRAY_SIZE(msm_vidc_enc_devs),
  .sanitise = pick_random_ioctl,
  .ioctls = msm_vidc_enc_ioctls,
  .ioctls_cnt = ARRAY_SIZE(msm_vidc_enc_ioctls),
};

REG_IOCTL_GROUP(msm_vidc_enc_grp)
